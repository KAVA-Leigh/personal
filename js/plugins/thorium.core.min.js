/*!
 * Generic functions for Bootstrap 4 projects
 * Thorium Version 2.0 june 2020
  * Bootstrap v4.5.x (https://getbootstrap.com/)
  * Copyright 2011-2020 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * Thorium Builder Copyright 2020 Nymphide Lab./*!
*/
String.prototype.replaceAll=function(t,e){return this.replace(new RegExp(t,"g"),e)},String.prototype.escapeSpecialChars=function(){return this.replace(/[\\]/g,"\\\\").replace(/[\/]/g,"\\/").replace(/[\b]/g,"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t").replace(/[\"]/g,'\\"').replace(/\\'/g,"\\'")};var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var e,r,o,a,i,n,s,l="",c=0;for(t=Base64._utf8_encode(t);c<t.length;)a=(e=t.charCodeAt(c++))>>2,i=(3&e)<<4|(r=t.charCodeAt(c++))>>4,n=(15&r)<<2|(o=t.charCodeAt(c++))>>6,s=63&o,isNaN(r)?n=s=64:isNaN(o)&&(s=64),l=l+this._keyStr.charAt(a)+this._keyStr.charAt(i)+this._keyStr.charAt(n)+this._keyStr.charAt(s);return l},decode:function(t){var e,r,o,a,i,n,s="",l=0;for(t=t.replace(/[^A-Za-z0-9+/=]/g,"");l<t.length;)e=this._keyStr.indexOf(t.charAt(l++))<<2|(a=this._keyStr.indexOf(t.charAt(l++)))>>4,r=(15&a)<<4|(i=this._keyStr.indexOf(t.charAt(l++)))>>2,o=(3&i)<<6|(n=this._keyStr.indexOf(t.charAt(l++))),s+=String.fromCharCode(e),64!=i&&(s+=String.fromCharCode(r)),64!=n&&(s+=String.fromCharCode(o));return s=Base64._utf8_decode(s)},_utf8_encode:function(t){t=t.replace(/rn/g,"n");for(var e="",r=0;r<t.length;r++){var o=t.charCodeAt(r);o<128?e+=String.fromCharCode(o):o>127&&o<2048?(e+=String.fromCharCode(o>>6|192),e+=String.fromCharCode(63&o|128)):(e+=String.fromCharCode(o>>12|224),e+=String.fromCharCode(o>>6&63|128),e+=String.fromCharCode(63&o|128))}return e},_utf8_decode:function(t){for(var e="",r=0,o=c1=c2=0;r<t.length;)(o=t.charCodeAt(r))<128?(e+=String.fromCharCode(o),r++):o>191&&o<224?(c2=t.charCodeAt(r+1),e+=String.fromCharCode((31&o)<<6|63&c2),r+=2):(c2=t.charCodeAt(r+1),c3=t.charCodeAt(r+2),e+=String.fromCharCode((15&o)<<12|(63&c2)<<6|63&c3),r+=3);return e}},thoriumCorePlugin={name:"Thorium Builder Core Plugin Bootstrap",bundleid:"com.thoriumbuilder.core",version:"2.0.0",multilingual:!1,httpRoot:"",isLocal:function(){return"file:"==window.location.protocol},scrollBreakPoint:100,modalAlert:function(t,e){$("#loading").hide(),$("#alert-text").text(t),$("#alert-secondary-text").text(e),$("#modalAlert").modal("show")},zoomImage:function(t){t.preventDefault();var e=t.target,r=e.getAttribute("src"),o=e.getAttribute("title"),a=e.getAttribute("data-unsplash-username")||"",i=e.getAttribute("data-unsplash-name")||"";r||(r=(r=e.style.backgroundImage).replace("url(","").replace(")","").replace(/\"/gi,"")),$("#zoom-video").hide(),$("#zoom-video").attr("src",""),$("#zoom-img").attr("src",r),a.length>0?(o='Photo by <a href="https://unsplash.com/@'+a+'?utm_source=thoriumbuilder&utm_medium=referral" target="_blank" rel="noopener" >'+i+'</a> on <a href="https://unsplash.com/?utm_source=thoriumbuilder&utm_medium=referral" target="_blank" rel="noopener">Unsplash</a>',$("#zoom-text").html(o)):$("#zoom-text").text(o||""),$("#zoom-img").css("max-height",$(window).height()-140+"px"),$("#modalZoom").modal("show")},translate:function(t,e){t=t||null,e=e||null;var r,o,a=document.documentElement.lang||"en",i=document.documentElement.dir||"ltr";t?(sessionStorage.setItem("thorium.language",t),r=t):((r=thoriumCorePlugin.findGetParameter("lg"))||(r=sessionStorage.getItem("thorium.language")),"undefined"==r&&(r=a),sessionStorage.setItem("thorium.language",r)),e?(sessionStorage.setItem("thorium.direction",e),o=e):((o=thoriumCorePlugin.findGetParameter("dir"))||(o=sessionStorage.getItem("thorium.direction")),"undefined"==o&&(o=i),sessionStorage.setItem("thorium.direction",o)),o!=i&&(document.documentElement.dir=o),thoriumCorePlugin.multilingual=!0;var n="data-translate-"+r;$("#loading").css("background-color","rgba(0,0,0,0.6)"),$("#loading").show(),$("* ["+n+"]").each((function(t){var e=$(this).length,r=$(this).attr(n);r.length>0&&(1==e?$(this).html(r):$(this).text(r))})),setTimeout((function(){$("#loading").hide()}),1500)},initPage:function(){$("[data-toggle='tooltip']").tooltip(),$("[data-toggle='popover']").popover(),thoriumCorePlugin.backstretch(),window.addEventListener("resize",thoriumCorePlugin.backstretch),thoriumCorePlugin.initSwiper(),$("* [data-transform-trigger='pageload']").each((function(t){thoriumCorePlugin.applyEffect(this)})),setTimeout((function(){$("#loading").hide()}),500)},initSwiper:function(){$(".swiper-container").each((function(t,e){var r=$("#"+e.id);if(r){var o=r.attr("data-swiper-type")||"bullets",a=r.attr("data-swiper-direction")||"horizontal",i=r.attr("data-swiper-effect")||"slide",n=parseInt(r.attr("data-swiper-slidesperview"))||0;0==n&&(n="auto");var s=parseInt(r.attr("data-swiper-spacebetween"))||0,l="true"==r.attr("data-swiper-loop")||!1,c="true"==r.attr("data-swiper-center")||!1,u="true"==r.attr("data-swiper-dynamicbullets")||!1,d="true"==r.attr("data-swiper-freeMode")||!1,h="true"==r.attr("data-swiper-mousewheel")||!1,m=parseInt(r.attr("data-swiper-delay"))||999999999,f=parseInt(r.attr("data-swiper-initialslide"))||0;f>0&&(f-=1);new Swiper(r,{pagination:{el:".swiper-pagination",type:o,clickable:!0,dynamicBullets:u},autoplay:{delay:m,disableOnInteraction:!0},cubeEffect:{slideShadows:!1},coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!1},flipEffect:{rotate:30,slideShadows:!1},scrollbar:{el:".swiper-scrollbar",hide:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},parallax:!1,freeMode:d,mousewheel:h,touchEventsTarget:"container",simulateTouch:!0,allowTouchMove:!0,grabCursor:!0,initialSlide:f,direction:a,speed:300,effect:i,spaceBetween:s,slidesPerView:n,centeredSlides:c,slidesOffsetBefore:0,slidesOffsetAfter:0,preloadImages:!0,loop:l})}}))},backstretch:function(){"true"==$("#carousel").attr("backstretch")&&($("#carousel").height($(window).height()),$("#carousel").find(".carousel-item").height($(window).height())),$("#zoom-img").css("max-height",$(window).height()-140+"px"),$(".backstretch").each((function(t,e){var r=$("#"+e.id);r.css("min-height",$(window).height()),r.css("height","auto")}))},getObjectViewPortPercent:function(t){var e=$("#"+t.id),r=e.offset().top,o=r+e.outerHeight(),a=$(window).scrollTop()+$(window).height();Math.round(100*(o-$(window).scrollTop())/($(window).height()+e.height()));return parseInt(Math.round((a-r)/e.outerHeight()*100))},applyEffect:function(t){var e=t.getAttribute("data-transform-effect")||"";t.style.transform=e;var r=t.getAttribute("data-transform-opacity")||"";t.style.opacity=r},resetEffect:function(t){var e=t.getAttribute("data-stored-state")||"";t.style.transform=e;var r=t.getAttribute("data-initial-opacity")||"";t.style.opacity=r},scrolleffectsHandler:function(){const t=document.querySelectorAll("* [data-transform-trigger='viewport']:not(.activeeffect)");for(var e=0;e<t.length;e++){var r=t[e];if(thoriumCorePlugin.getObjectViewPortPercent(r)>(r.getAttribute("data-transform-viewport")||0)){r.classList.add("activeeffect");var o=r.getAttribute("data-transform-effect")||"";r.style.transform=o;var a=r.getAttribute("data-transform-opacity")||"";r.style.opacity=a}}const i=document.querySelectorAll(".stickyscroll");for(e=0;e<i.length;e++){(r=i[e]).getBoundingClientRect().top<=0&&r.classList.add("fixedtop")}},findGetParameter:function(t){var e=null,r=[];return location.search.substr(1).split("&").forEach((function(o){(r=o.split("="))[0]===t&&(e=decodeURIComponent(r[1]))})),e},WebShare:function(t,e){if(t.preventDefault(),null==navigator.share)thoriumCorePlugin.modalAlert("webshare","Web Share only possible with https web sites");else{var r=e.attr("data-webshare-title"),o="",a=e.attr("data-webshare-imgref");a&&(o=$(a).attr("src")||"");var i="";o||(i=e.attr("data-webshare-textref")||window.location.href),navigator.share({title:r,url:o,text:i})}},submitForm:function(t,e){if(event.preventDefault(),e){e.addClass("disabled-form");var r=e.attr("data-email"),o=e.attr("data-email-title"),a=e.attr("data-form-message")||"Ok",i=e.attr("data-form-targetpage")||"",n=new FormData(e[0]);if(n.append("form_email",r),n.append("form_title",o),1==thoriumCorePlugin.isLocal())return e.removeClass("disabled-form"),e[0].reset(),thoriumCorePlugin.modalAlert("","With The Production Version an email is sent to "+r),void(i.length>0&&window.location.assign(i));$("html, body").css("cursor","progress"),$.ajax({url:"forms/form.php",data:n,type:"POST",context:document.body,cache:!1,contentType:!1,processData:!1,timeout:1e4,statusCode:{ajaxerror:function(t){ajaxerror(t)}},error:function(t,r,o){$("html, body").css("cursor","default"),e.removeClass("disabled-form"),thoriumCorePlugin.modalAlert(r,t.statusText)},success:function(t){$("html, body").css("cursor","default"),e.removeClass("disabled-form"),1==t?i.length>0?window.location.assign(i):(e[0].reset(),thoriumCorePlugin.modalAlert("",a)):alert("email error")}})}},logEvent:function(t,e){if(e=e||"",1==thoriumCorePlugin.isLocal()&&e.length>0){var r=new Date,o=r.getHours()+":"+r.getMinutes()+":"+r.getSeconds()+" ["+r.getMilliseconds()+" ms] ";window.status=o+": "+e}}};function initialize(){1==thoriumCorePlugin.isLocal()&&(thoriumCorePlugin.httpRoot=localroot),thoriumCorePlugin.translate(),$("#loading").css("background-color","rgba(0,0,0,0.1)"),thoriumCorePlugin.initPage()}$(document).bind("ready ajaxComplete",(function(){$.active<=1&&($("html, body").css("cursor","default"),setTimeout((function(){$("#loading").hide("slow")}),1e3))})),$(document).ajaxStart((function(){$("html, body").css("cursor","progress")})),$(document).ajaxSend((function(){$("html, body").css("cursor","progress")})),$("#back-to-top").click((function(){$("body,html").animate({scrollTop:0},500)})),$("a").click((function(t){var e=$.attr(this,"href");e&&"#"!=e&&$(this).hasClass("anchor")&&!0===/^#/.test(e)&&(t.preventDefault(),$("html, body").animate({scrollTop:$(e).offset().top},500))})),$(".embedded-overlay").click((function(){$(".embedded-overlay").hide()})),$("iframe").mouseleave((function(){$(".embedded-overlay").show()})),$(document).on("click",".img-zoom",(function(t){thoriumCorePlugin.zoomImage(t)})),$(document).on("click",".close",(function(t){t.preventDefault(),$("#zoom-video").attr("src",""),$("#zoom-img").attr("src",""),$("#modalZoom").modal("hide")})),$(document).on("click",".collection-item-zoom",(function(t){t.preventDefault();var e=$(this).find(".collection-item-image");e&&($("#zoom-img").attr("src",e.attr("data-file")),$("#zoom-text").text(e.attr("title")||""),$("#modalZoom").modal("show"))})),$(document).on("click",".webshare",(function(t){thoriumCorePlugin.WebShare(t,$(this))})),window.addEventListener("dragover",(function(t){(t=t||event).preventDefault()}),!1),window.addEventListener("drop",(function(t){"INPUT"!=(t=t||event).target.tagName&&t.preventDefault()}),!1),$("*[data-translate-language]").click((function(t){var e=t.target.getAttribute("data-translate-language")||null,r=t.target.getAttribute("data-translate-direction")||null;thoriumCorePlugin.translate(e,r)})),$("*[data-unsplash-username]").mouseenter((function(t){if(t.preventDefault(),$(this).outerWidth()>200){var e=$(this).offset();$("#unsplash-info").show(),$("#unsplash-info").offset({top:e.top,left:e.left}),$("#unsplash-backinck").html('Photo by <a href="https://unsplash.com/@'+$(this).attr("data-unsplash-username")+'?utm_source=thoriumbuilder&utm_medium=referral" target="_blank" rel="noopener" >'+$(this).attr("data-unsplash-name")+'</a> on <a href="https://unsplash.com/?utm_source=thoriumbuilder&utm_medium=referral" target="_blank" rel="noopener" >Unsplash</a>')}})),$("*[data-unsplash-username]").mouseleave((function(t){t.preventDefault(),t.relatedTarget.id&&"unsplash-info"!=t.relatedTarget.id&&$("#unsplash-info").hide()})),$("#unsplash-info").mouseleave((function(t){t.preventDefault(),$("#unsplash-info").hide()})),$(document).on("submit",".form",(function(t){thoriumCorePlugin.submitForm(t,$(this))})),$("* [data-transform-trigger='mouseover']").mouseenter((function(t){thoriumCorePlugin.applyEffect(this)})),$("* [data-transform-trigger='mouseover']").mouseleave((function(t){thoriumCorePlugin.resetEffect(this)})),$("* [data-transform-trigger='mouseclick']").click((function(t){var e=$(this).attr("data-transform-effect")||"";this.style.transform=e})),$(window).scroll((function(){$(this).scrollTop()>=thoriumCorePlugin.scrollBreakPoint?($("#back-to-top").show(200),$(".hide-on-scroll").css("margin-top","-100px"),$(".hide-on-scroll").hide("slow"),$(".show-on-scroll").css("margin-top","0px")):($("#back-to-top").hide(200),$(".hide-on-scroll").css("margin-top","0px"),$(".hide-on-scroll").show("slow"),$(".show-on-scroll").css("margin-top","-100px")),thoriumCorePlugin.scrolleffectsHandler()})),window.onerror=function(t,e,r){return thoriumCorePlugin.logEvent(2,"An error occured: "+t+"url="+e+" line"+r),!1},document.addEventListener("deviceready",initialize),document.addEventListener("DOMContentLoaded",initialize);